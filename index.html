<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Editores J2ME</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  <style>
    :root {
      --bg: #0f121a;
      --sidebar: #161b22;
      --text: #e2e8f0;
      --text-secondary: #94a3b8;
      --accent: #3b82f6;
      --border: #30363d;
    }

    * { margin:0; padding:0; box-sizing:border-box; }

    body {
      font-family: system-ui, -apple-system, sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      display: flex;
    }

    .sidebar {
      width: 280px;
      background: var(--sidebar);
      border-right: 1px solid var(--border);
      overflow-y: auto;
      height: 100vh;
      position: fixed;
      padding: 1.5rem 0;
    }

    .header {
      padding: 0 1.5rem 1.5rem;
      text-align: center;
      border-bottom: 1px solid var(--border);
    }

    .header h1 {
      font-size: 1.8rem;
      margin-bottom: 0.3rem;
    }

    .header .subtitle {
      font-size: 0.9rem;
      color: var(--text-secondary);
    }

    .accordion {
      margin-top: 1rem;
    }

    .accordion-item {
      border-bottom: 1px solid var(--border);
    }

    .accordion-header {
      padding: 1rem 1.5rem;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: space-between;
      transition: background 0.2s;
    }

    .accordion-header:hover {
      background: #1e293b;
    }

    .accordion-header i {
      transition: transform 0.3s;
    }

    .accordion-header.active i {
      transform: rotate(180deg);
    }

    .accordion-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease, padding 0.3s ease;
      padding: 0 1.5rem;
    }

    .accordion-content.active {
      max-height: 500px; /* ajuste se precisar de mais espaço */
      padding: 1rem 1.5rem;
    }

    .option {
      padding: 0.8rem 0;
      cursor: pointer;
      color: var(--text-secondary);
      transition: color 0.2s;
    }

    .option:hover,
    .option.active {
      color: var(--accent);
    }

    .main {
      margin-left: 280px;
      flex: 1;
      display: flex;
      flex-direction: column;
    }

    .iframe-container {
      flex: 1;
      padding: 1.5rem;
      position: relative;
    }

    #main-iframe {
      width: 100%;
      height: 100%;
      border: none;
      border-radius: 10px;
      background: var(--sidebar);
      box-shadow: 0 10px 30px rgba(0,0,0,0.4);
    }

    .loading {
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--text-secondary);
      font-size: 1.2rem;
    }

    @media (max-width: 900px) {
      .sidebar {
        width: 100%;
        height: auto;
        position: relative;
        border-right: none;
        border-bottom: 1px solid var(--border);
      }
      .main {
        margin-left: 0;
      }
      .accordion-content.active {
        max-height: none; /* para mobile, deixa crescer livre */
      }
    }
  </style>
</head>
<body>

  <aside class="sidebar">
    <div class="header">
      <h1>Editores J2ME</h1>
      <p class="subtitle">Ferramentas para modding e tradução</p>
    </div>

    <div class="accordion">

      <div class="accordion-item">
        <div class="accordion-header" data-target="doom">
          <span><i class="fas fa-gamepad"></i> DoomRPG Text Editor</span>
          <i class="fas fa-chevron-down"></i>
        </div>
        <div class="accordion-content" id="doom">
          <div class="option" data-url="https://quakeman22.github.io/J2meHtmlTools/tools/doom-text-desktop.html">Desktop</div>
          <div class="option" data-url="https://quakeman22.github.io/J2meHtmlTools/tools/doom-text-mobile.html">Mobile</div>
        </div>
      </div>

      <div class="accordion-item">
        <div class="accordion-header" data-target="class">
          <span><i class="fas fa-cog"></i> Class Editor</span>
          <i class="fas fa-chevron-down"></i>
        </div>
        <div class="accordion-content" id="class">
          <div class="option" data-url="https://quakeman22.github.io/J2meHtmlTools/tools/class-editor-desktop.html">Desktop</div>
          <div class="option" data-url="https://quakeman22.github.io/J2meHtmlTools/tools/class-editor-mobile.html">Mobile</div>
        </div>
      </div>

      <div class="accordion-item">
        <div class="accordion-header" data-target="herocraft">
          <span><i class="fas fa-crosshairs"></i> Herocraft / Fishlabs</span>
          <i class="fas fa-chevron-down"></i>
        </div>
        <div class="accordion-content" id="herocraft">
          <div class="option" data-url="https://quakeman22.github.io/J2meHtmlTools/tools/collider-text-editor-d.html">Desktop</div>
          <div class="option" data-url="https://quakeman22.github.io/J2meHtmlTools/tools/collider-text-editor-m.html">Mobile</div>
        </div>
      </div>

      <div class="accordion-item">
        <div class="accordion-header" data-target="glu">
          <span><i class="fas fa-file-lines"></i> GLU Text Editor</span>
          <i class="fas fa-chevron-down"></i>
        </div>
        <div class="accordion-content" id="glu">
          <div class="option" data-url="https://quakeman22.github.io/J2meHtmlTools/tools/glueditor.html">Desktop</div>
          <div class="option" data-url="https://quakeman22.github.io/J2meHtmlTools/tools/glueditor-mobile.html">Mobile</div>
        </div>
      </div>

      <div class="accordion-item">
        <div class="accordion-header single" data-url="https://quakeman22.github.io/J2meHtmlTools/tools/devalley_text.html">
          <span><i class="fas fa-tools"></i> Devalley Tools</span>
        </div>
      </div>

      <div class="accordion-item">
        <div class="accordion-header single" data-url="https://quakeman22.github.io/J2meHtmlTools/tools/asterix_studio.html">
          <span><i class="fas fa-star"></i> Asterix Studio</span>
        </div>
      </div>

      <div class="accordion-item">
        <div class="accordion-header single" data-url="https://quakeman22.github.io/J2meHtmlTools/tools/pnglab.htm">
          <span><i class="fas fa-image"></i> PNGLab</span>
        </div>
      </div>

      <div class="accordion-item">
        <div class="accordion-header single" data-url="https://quakeman22.github.io/J2meHtmlTools/tools/b3d.html">
          <span><i class="fas fa-cube"></i> B3D Tools</span>
        </div>
      </div>

      <div class="accordion-item">
        <div class="accordion-header single" data-url="https://quakeman22.github.io/J2meHtmlTools/tools/hands.html">
          <span><i class="fas fa-handshake"></i> HandsON Tool</span>
        </div>
      </div>

      <div class="accordion-item">
        <div class="accordion-header single" data-url="https://quakeman22.github.io/J2meHtmlTools/tools/lang.html">
          <span><i class="fas fa-language"></i> LangEditor Port</span>
        </div>
      </div>

      <div class="accordion-item">
        <div class="accordion-header" data-target="lang2me">
          <span><i class="fas fa-file-alt"></i> Lang2ME</span>
          <i class="fas fa-chevron-down"></i>
        </div>
        <div class="accordion-content" id="lang2me">
          <div class="option" data-url="https://quakeman22.github.io/J2meHtmlTools/tools/lang2me.html">Desktop</div>
          <div class="option" data-url="https://quakeman22.github.io/J2meHtmlTools/tools/lang2me_mobile.html">Mobile</div>
        </div>
      </div>

      <div class="accordion-item">
        <div class="accordion-header" data-target="maps">
          <span><i class="fas fa-map"></i> MAPS</span>
          <i class="fas fa-chevron-down"></i>
        </div>
        <div class="accordion-content" id="maps">
          <div class="option" data-url="https://quakeman22.github.io/J2meHtmlTools/tools/MI3_Gameloft_maps.html">MI3</div>
          <div class="option" data-url="https://quakeman22.github.io/J2meHtmlTools/tools/pirates_viewer.html">PIRATES</div>
          <div class="option" data-url="https://quakeman22.github.io/J2meHtmlTools/tools/POP_TT_Gameloft_maps.html">POP TT</div>
        </div>
      </div>

    </div>
  </aside>

  <main class="main">
    <div class="iframe-container">
      <div class="loading" id="loading">Selecione uma ferramenta no menu lateral...</div>
      <iframe id="main-iframe" src="about:blank"></iframe>
    </div>
  </main>

  <script>
    const iframe = document.getElementById('main-iframe');
    const loading = document.getElementById('loading');

    // Accordion toggle
    document.querySelectorAll('.accordion-header').forEach(header => {
      header.addEventListener('click', () => {
        const isSingle = header.classList.contains('single');
        const target = header.dataset.target;
        const url = header.dataset.url;

        // Fecha todos os outros
        document.querySelectorAll('.accordion-header').forEach(h => {
          if (h !== header) h.classList.remove('active');
        });
        document.querySelectorAll('.accordion-content').forEach(c => {
          if (c.id !== target) c.classList.remove('active');
        });

        if (!isSingle) {
          header.classList.toggle('active');
          const content = document.getElementById(target);
          content.classList.toggle('active');
        }

        // Se for single ou opção clicada, carrega URL
        if (url) {
          loadIframe(url);
        }
      });
    });

    // Clique nas opções dentro do accordion
    document.querySelectorAll('.option').forEach(opt => {
      opt.addEventListener('click', () => {
        document.querySelectorAll('.option').forEach(o => o.classList.remove('active'));
        opt.classList.add('active');

        const url = opt.dataset.url;
        if (url) loadIframe(url);
      });
    });

    function loadIframe(url) {
      loading.style.display = 'flex';
      iframe.style.display = 'none';
      iframe.src = url;
      iframe.onload = () => {
        loading.style.display = 'none';
        iframe.style.display = 'block';
      };
    }

    // Opcional: abre o primeiro item por padrão
    // document.querySelector('.accordion-header').click();
  </script>

</body>
</html>
